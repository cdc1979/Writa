@using Writa.Models
@using Writa.Models.Stats
@model IDataHelper
@{
    ViewBag.Title = "Register";
    Layout = "~/Views/Admin/_AdminLayout.cshtml";
    WritaStats stats = Model.GetStats();
}
@section PageJavaScript
{
    <link href="~/Content/toastr.min.css" rel="stylesheet" />
    <script src="~/Scripts/writa-admin-dashboard.js"></script>
    <script src="~/Scripts/toastr.min.js"></script>
}
<div class="container" style="width: 100%;">
    <div class="row">
        <div class="col-lg-3">
            <div class="well"><h4>Quick Tasks</h4>
                <table class="table table-striped table-hover">
                    <tbody>
                    <tr>
                        <td>Generate Sitemap</td><td align="right"><button id="sitemapbutton" class="btn btn-success">Go</button></td>
                    </tr>
                    <tr>
                        <td>Backup Database</td><td align="right"><button id="backupbutton" class="btn btn-success">Go</button></td>
                    </tr>
                    <tr>
                        <td>Restore Database</td><td align="right"><button id="restorebutton" class="btn btn-success">Go</button></td>
                    </tr>
                    <tr>
                        <td>Add To <a href="#" data-toggle="modal" data-target="#showcasemodal">Showcase</a></td><td align="right"><button id="showcasebutton" class="btn btn-success">Go</button></td>
                    </tr>
                        </tbody>
                </table>
            </div>
            <div class="well">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Writa Stats</h3>
                    </div>
                                        <!-- Table -->
                      <table class="table">
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                          <tbody>
                              <tr>
                                  <td>Number Of Posts</td>
                                  <td>@stats.NumberOfPosts</td>
                              </tr>
                              <tr>
                                  <td>Number Of Pages</td>
                                  <td>@stats.NumberOfStaticPages</td>
                              </tr>
                              <tr>
                                  <td>Last Post</td>
                                  <td>@stats.LastPostDate.ToShortDateString()</td>
                              </tr>
                              <tr>
                                  <td>Active Theme</td>
                                  <td>@stats.ActiveTheme</td>
                              </tr>
                          </tbody>
                      </table>
                </div>

            </div>
        </div>
        <div class="col-lg-9">
            <div class="well"><h4>Latest Posts</h4>
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Title</th>
                            <th>Date Created</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                @foreach (var f in Model.GetAllPosts())
                {
                    <tr>
                        <td>
                            @f.PostTitle
                        </td>
                        <td>@f.PostCreated</td>
                        <td>
                            @f.PostStatus
                        </td>
                    </tr>
                }
                        </tbody>
                </table>

            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="dashboardmodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="dashboardmodallabel"></h4>
      </div>
      <div class="modal-body" id="dashboardmodalbody">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- Modal -->
<div class="modal fade" id="showcasemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
          <i class="fa fa-question-circle"></i> Showcase Your Blog
      </div>
      <div class="modal-body">
        <h3>The Writa Showcase</h3>
        <p>Show off and share your blog at writa.org with our free showcase.  Your blog will get published along with hundreds of others and your posts might even get featured among our star posts.
            Just click the Go button in your dashboard, and we will do the rest.
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->